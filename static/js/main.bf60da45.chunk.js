(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(13),o=n.n(r),s=(n(90),n(54)),c=(n(38),n(24)),l=n(20),u=n.n(l),h=n(28),d=n(33),f=n(23),p=n(36),m=n(34),y=n(37),_=n(44);function v(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var b=n(76),g=n.n(b),w=n(46),E=(n(63),.2),x=100,k=x,S=function(){var e=Object(h.a)(u.a.mark(function e(t,n){var i,a,r,o=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=o.length>2&&void 0!==o[2]?o[2]:0,a=o.length>3?o[3]:void 0,r=0;case 3:if(!(r<n)){e.next=10;break}return t.map(function(e){e.isPlayer&&!a?P(e,t):N(e,t)}),e.next=7,Object(w.delay)(i);case 7:r++,e.next=3;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){for(var t=[],n=0;n<e;n++){var i=fe();t.push(oe(i))}return t},C=function(e,t){var n=Math.random()<=e.chief_age/1e3-.3;return n&&ee("DEATH","".concat(e.name,"'s Chief has died."),[e.id],t),n},j=function(e,t){t.forEach(function(t){t.id===e.id&&(t.chief_age=v(12,45))})},T=function(e,t){var n=Q(e,t),i=v(0,n.length);ee("DISMANTLE","".concat(i," communities have decided to leave ").concat(e.name,"."),[e.id],t),n.map(function(e,n){return n<=i-1&&I(e,t),!0})},N=function(e,t){if(L(e,t),C(e,t))T(e,t),j(e,t);else if(null===e.chief){ee("DECISION","The chief polity ".concat(e.name," deliberates"),[e.id],t);var n=A(e,t);n&&D(e,n,t)?z(e,n,null,t):H(e,t)}else{var i=Z(e,t);ee("DECISION","".concat(i.name,"'s subordinate polity ").concat(e.name," deliberates"),[e.id],t),G(i,e,t)?B(i,e,t):H(e,t)}return e},P=function(e,t){if(L(e,t),C(e,t))T(e,t),j(e,t);else{if(ne("YOU, the leader of ".concat(e.name," must make a decision.")),e.chief){var n=Z(e,t),i=te("We are paying tribute to ".concat(n.name,". Will you lead us in rebellion, or seek fortune on their behalf?"));if(ee("DECISION","".concat(n.name,"'s subordinate polity ").concat(e.name," deliberates"),[e.id],t),i){var a=G(n,e,t);if(i=te("We do ".concat(a?"":"NOT"," think secession is a good idea. Will you continue with the plans for WAR?")))return B(n,e,t),e}}var r=te("Will you seek WAR or have peace?");if(ee("DECISION","The chief polity ".concat(e.name," deliberates"),[e.id],t),r){var o=A(e,t);if(o){var s=te("Your neigbor, ".concat(o.name," is weak. Will you attack or have PEACE?"));if(s){var c=D(e,o,t);if(s=te("We do ".concat(c?"":"NOT"," think we can win. Will you continue with the plans for WAR?")))return z(e,o,null,t),e}}else ne("There are no peoples to WAR with this year.")}}return H(e,t),e},A=function(e,t){var n=R(e,t).filter(function(e){return!se(e)}).map(function(e){return Z(e,t)}).sort(function(e,n){return $(e,t)-$(n,t)});return n.length>0&&n[0]},W=function(e,t,n){return[e].concat(Object(c.a)(q(e,n))).reduce(function(e,n){return e+(i=t,a=n,k>=Math.hypot(a.coordinates.x-i.coordinates.x,a.coordinates.y-i.coordinates.y));var i,a},0)},R=function(e,t){return t.filter(function(n){return Z(n,t).id!==e.id&&n.id!==e.id&&W(e,n,t)})},M=function(e,t){var n=[],i=q(e,t).sort(function(e,n){return $(n,t)-$(e,t)});i.length>4&&i.map(function(t,a){return a>=4?n.push({chief:i[a-4],target:t}):n.push({chief:e,target:t}),!0}),n.map(function(e){return t.forEach(function(t){t.id===e.target.id&&(t.chief=e.chief.id)}),!0})},I=function(e,t){var n=Z(e,t);t.forEach(function(i){i.id===e.id?(ee("SECESSION","".concat(i.name," is seceded from ").concat(n.name,"."),[i.id,n.id],t),i.chief=null):i.id===n.id&&(i.has_incurred_secession=!0)})},L=function(e,t){t.forEach(function(t){t.id===e.id&&(t.has_incurred_secession=!1,t.has_incurred_war=!1,t.chief_age+=1)})},D=function(e,t,n){var i=V(e,t,n),a=J(i);return Math.random()<=U(e,i,a)},G=function(e,t,n){var i=1-V(e,t,n);return Math.random()<=i},B=function(e,t,n){ee("REBELLION","".concat(t.name," attempts rebellion against ").concat(e.name,"."),[t.id],n);var i=V(e,t,n);F(1-i)?(ee("REBELLION","".concat(t.name," succeeds in rebellion against ").concat(e.name,"."),[t.id],n),K(Y(i),[e.id,t.id],n),I(t,n),M(Z(e),n)):(ee("REBELLION","".concat(t.name," fails in rebellion against ").concat(e.name,"."),[t.id],n),K(J(i),[e.id,t.id],n))},H=function(e,t){ee("PEACE","".concat(e.name," has peace."),[e.id],t),X(Math.sign(e.baseline_resource_level-e.resource_level)*(e.baseline_resource_level/3),[e.id],t)},z=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=function(e,t,n){var i=[];return(i=q(t,n).length>0?R(e,n).filter(function(e){return Z(e,n).id===t.id}).sort(function(e,t){return $(t,n)-$(e,n)}):R(e,n).filter(function(e){return e.id===t.id})).length>0&&i[0]}(t,n,a);if(r){ee("WAR","".concat(t.name," prepares for war against ").concat(n.name),[t.id],a);var o=V(t,r,a);null===i&&(i=1-o),!F(i)?(ee("WAR","".concat(t.name," succeeds in battle against ").concat(r.name),[t.id],a),K(J(o),[t.id,r.id],a),function(e,t,n){var i=Q(t,n).map(function(e){return e.id});n.forEach(function(n){n.id===t.id&&(n.chief=e.id),i.indexOf(n.id)>-1&&(n.chief=null)})}(t,r,a),M(t,a),i-=.8*i,Z(n,a).id!==t.id&&(ee("WAR","".concat(t.name,"'s onslaught continues against ").concat(n.name),[t.id],a),e(t,n,i,a))):(ee("WAR","".concat(t.name," fails in battle against ").concat(r.name),[t.id],a),K(Y(o),[t.id,r.id],a))}else ee("IMPASSE","".concat(n.name," has no communities with reach of ").concat(t.name,"'s assualt."),[t.id],a)},F=function(e){return Math.random()<=e},V=function(e,t,n){var i=Math.pow($(e,n),2);return i/(i+Math.pow($(t,n),2))},U=function(e,t,n){return t*Math.exp(-2*n)*(e.resource_level/e.baseline_resource_level)},J=function(e){return E*(1-e)},Y=function(e){return E*e},K=function(e,t,n){n.forEach(function(n){t.indexOf(n.id)>-1&&(n.resource_level=Math.max(0,n.resource_level-e))})},X=function(e,t,n){n.forEach(function(n){t.indexOf(n.id)>-1&&(n.resource_level+=e)})},$=function(e,t){return Q(e,t).reduce(function(e,t){return e+.5*t.resource_level},0)+e.resource_level},q=function(e,t){return t.filter(function(n){return n.id!==e.id&&Z(n,t).id===e.id})},Q=function(e,t){return t.filter(function(t){return t.id!==e.id&&t.chief===e.id})},Z=function e(t,n){var i=!1,a=[];return null!==t.chief&&(a=n.filter(function(e){return e.id===t.chief})),a.length>0&&(i=a[0]),i?e(i,n):t},ee=function(e,t,n,i){i.forEach(function(i){n.indexOf(i.id)>-1&&(i.events=i.events.concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{event:ie[e],message:t}}(e,t)))})},te=function(e,t,n){window.confirm(e)},ne=function(e){window.alert(e)},ie={DEFAULT:{color:"gray"},DECISION:{color:"green"},WAR:{color:"red"},PEACE:{color:"blue"},SECESSION:{color:"yellow"},ANNEX:{color:"orange"},DEATH:{color:"purple"},DISMANTLE:{color:"gray"},IMPASSE:{color:"gray"}},ae=function(e){return e.map(function(e){return{events:Object(c.a)(e.events),polity_id:e.id}})},re=function(e){var t=function(e,t){return e.reduce(function(e,n){return e+$(n,t)},0)}(e,e);return e.map(function(n){return{percent:$(n,e)/t,polity_id:n.id}})};function oe(e){var t=1+v(-1,1)*E;return{id:g()(),name:ue([ce,le]),baseline_resource_level:t,resource_level:t,chief:null,coordinates:{x:v(0,x),y:v(0,x)},has_incurred_secession:!1,has_incurred_war:!1,chief_age:30,events:[],isPlayer:!1,color:e}}var se=function(e){return e.has_incurred_secession&&e.has_incurred_war},ce=["Moon","Sun","Black","White","Light","Shadow","Red","Green","Gray","Mighty","Wither","Gale","Hay","Stone","River"],le=["Fire","Water","Belly","Peaks","Born","Still","Wood","Wine","Run","Guard","Fell","Fall"],ue=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return(t=e).length>0?t[v(0,t.length-1)]:null;var t}).join(" ")},he={background:"#eadcbd",entity:["#de6640","#e39d96","#e8c4ac","#ebd66b","#638c5f","#869f9b","#cac9b4"]},de=0,fe=function(){var e=he.entity[de%he.entity.length];return de+=1,e},pe=n(11),me=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={offset_x:e.width/100-1,offset_y:e.height/100-1,base_size:10,size_multiplier:20},n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.polities.map(function(t,n){var i=t.coordinates.x*e.state.offset_x,r=t.coordinates.y*e.state.offset_y,o=$(t,e.props.polities),s=e.state.size_multiplier*o+e.state.base_size,c=Q(t,e.props.polities).map(function(n,o){return a.a.createElement(pe.Group,null,a.a.createElement(pe.Line,{key:o+"b",x:0,y:0,points:[i,r,n.coordinates.x*e.state.offset_x,n.coordinates.y*e.state.offset_y],stroke:Z(t,e.props.polities).color,tension:1,strokeWidth:4}))});return a.a.createElement(pe.Group,{key:n},a.a.createElement(pe.Text,{x:i,y:r+40,text:t.name,fill:"red",fontSize:20}),a.a.createElement(pe.Text,{x:i,y:r-20,text:Math.round(100*o)/100,fill:"red",fontSize:20}),a.a.createElement(pe.Rect,{x:i,y:r,width:s,height:s,fill:t.color,shadowBlur:5}),c)});return a.a.createElement(pe.Group,null,t)}}]),t}(a.a.Component),ye=function(){return{background:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#282c34",element_body:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#eadcbd",element_text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#282c34",chart_lines:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#eadcbd"}},_e={dark:ye(),light:ye("#eadcbd","#282c34","#eadcbd","#282c34")},ve=function(e,t){var n=e.percents.filter(function(e){return e.polity_id===t.id})[0];return n?n.percent:0},be=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={step_distance:100,entity_distance:40,offset_x:e.offset_x,offset_y:e.offset_y,previous_polity_power:0,padding_right:e.offset_x,event_text_width:60},n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.all_historical_polities.map(function(e){return{polity:e,points:[]}});this.props.history.map(function(n,i){return n.polities.map(function(a,r){var o=r>0?n.percents.slice(0,r).reduce(function(e,t){return e+t.percent},0):0,s=ve(n,a),l=(e.props.width-e.state.offset_x)*(s+o),u=i*e.state.step_distance;return t=t.map(function(e){return e.polity.id===a.id&&(e.points=[].concat(Object(c.a)(e.points),[l,u])),e}),!0}),!0});var n=this.state.offset_x,i=this.state.offset_y,r=this.props.history.length*this.state.step_distance;return r>=this.props.height-this.state.offset_y&&(i=this.state.offset_y-r+(this.props.height-this.state.step_distance)),a.a.createElement(pe.Group,null,a.a.createElement(pe.Group,{x:n,y:i,draggable:!0,dragBoundFunc:function(t){return{x:e.state.offset_x,y:Math.min(e.state.offset_y,t.y)}}},t.map(function(t,n){var i=[];return e.props.history.forEach(function(t,n){n===e.props.history.length-1&&(i=(i=i.concat([0,n*e.state.step_distance])).concat([0,0]))}),a.a.createElement(pe.Line,{key:n,x:0,y:0,points:t.points.concat(i),stroke:_e[e.props.theme].background,tension:0,strokeWidth:4,closed:!0,fill:t.polity.color})}).reverse(),this.props.history.map(function(t,n){return a.a.createElement(pe.Group,null,a.a.createElement(pe.Text,{x:e.props.side_info_width-e.state.offset_x,y:n*e.state.step_distance-25,width:e.props.side_info_width,text:"".concat(n*e.props.years_to_run),fill:_e[e.props.theme].element_body,fontSize:20,fontStyle:"bold",align:"center"}),a.a.createElement(pe.Line,{key:n,x:0,y:0,points:[e.props.side_info_width-e.state.offset_x,n*e.state.step_distance,e.props.width-e.state.offset_x+e.props.side_info_width,n*e.state.step_distance],stroke:_e[e.props.theme].chart_lines,tension:0,strokeWidth:2}),a.a.createElement(pe.Text,{x:e.props.width-e.state.offset_x,y:n*e.state.step_distance-25,width:e.props.side_info_width,text:"".concat(n*e.props.years_to_run),fill:_e[e.props.theme].element_body,fontSize:20,fontStyle:"bold",align:"center"}))}),this.props.history.map(function(t,n){return t.polities.map(function(i,r){var o=r>0?t.percents.slice(0,r).reduce(function(e,t){return e+t.percent},0):0,s=ve(t,i),c=(e.props.width-e.state.offset_x)*(s+o),l=(e.props.width-e.state.offset_x)*o,u=(e.state.event_text_width,t.events.filter(function(e){return e.polity_id===i.id})),h=u.length>0?u[0].events:[];if(s>.08)return a.a.createElement(pe.Group,{key:r},a.a.createElement(pe.Text,{x:l+16,y:n*e.state.step_distance-e.state.step_distance/2,width:c-l-16,text:"".concat(i.name.toUpperCase(),"\n").concat(h.length>0?h[h.length-1].message:"none"),fill:_e.light.element_body,fontSize:12,fontStyle:"bold",align:"center"}))})})))}}]),t}(a.a.Component);var ge=function(e){return a.a.createElement("div",{className:"Toolbar"},a.a.createElement("button",{onClick:function(){e.running_sim?e.onPause():e.onStart()},className:"btn",title:"\r Start/Stop History\r (player politiy decisions will be auto resolved)\r ",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},e.running_sim?"Pause":"Auto"),a.a.createElement("button",{onClick:function(){return e.onStep()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"Step"),a.a.createElement("button",{onClick:function(){return e.onRestart()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"Restart"),a.a.createElement("button",{onClick:function(){return e.onReset()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"New History"),a.a.createElement("button",{onClick:function(){return e.onAddTurchinPolity()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"Add Polity"),a.a.createElement("button",{onClick:function(){return e.onAddPlayerPolity()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"Add Player"),a.a.createElement("button",{onClick:function(){return e.onSwitchTheme()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},"light"===e.theme?"Go Dark":"Go Light"),a.a.createElement("button",{onClick:function(){return e.onSwitchView()},className:"btn",style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},e.chart_view?"Node View":"Chart View"))},we=n(45),Ee=n(188),xe=n(193),ke=n(192),Se=n(190),Oe=n(191),Ce=n(189),je=n(194),Te=n(81),Ne=n.n(Te),Pe=Object(Ee.a)({list:{width:500},fullList:{width:"auto"}});function Ae(e){var t,n=Pe(),i=a.a.useState({top:!1,left:!1,bottom:!1,right:!1}),r=Object(s.a)(i,2),o=r[0],c=r[1],l=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&c(Object(_.a)({},o,Object(we.a)({},e,t)))}},u=function(e){return a.a.createElement(Ce.a,Object.assign({button:!0,style:{color:"#de6640"},component:"a"},e))};return a.a.createElement("div",null,a.a.createElement(ke.a,{disableFocusRipple:!0,className:"btn",style:{position:"absolute",borderRadius:2,left:10,top:10,backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text},onClick:l("left",!0)},a.a.createElement(Ne.a,null)),a.a.createElement(xe.a,{PaperProps:{style:{backgroundColor:_e[e.theme].element_body,color:_e[e.theme].element_text}},open:o.left,onClose:l("left",!1)},(t="left",a.a.createElement("div",{className:n.list,role:"presentation",onClick:l(t,!1),onKeyDown:l(t,!1)},a.a.createElement(Se.a,null,a.a.createElement(Ce.a,null,a.a.createElement("h4",null,"About")),a.a.createElement(Ce.a,null,a.a.createElement(je.a,null,"This is intended generate histomaps similar to John B. Sparks 1931 piece, titled \u201cThe Histomap: Four Thousand Years of World History.\u201d")),a.a.createElement(Ce.a,null,a.a.createElement(je.a,null,"To simulate an early history I interpret Peter Turchin's model for Cycling in the Complexity of Early Societies."))),a.a.createElement(Oe.a,null),a.a.createElement(Se.a,null,a.a.createElement(u,{href:"https://www.worldhistorycharts.com/the-histomap-by-john-sparks/"},a.a.createElement(je.a,{primary:"The Histomap by John B. Sparks"})),a.a.createElement(u,{href:"https://escholarship.org/uc/item/5536t55r#page-1"},a.a.createElement(je.a,{primary:"Cycling in the Complexity of Early Societies by Peter Turchin"}))),a.a.createElement(Oe.a,null)))))}var We=function(e){function t(){var e;Object(d.a)(this,t),e=Object(p.a)(this,Object(m.a)(t).call(this));var n=O(10),i=re(n);return e.state={polities:n,all_historical_polities:n,chart_padding:180,side_info_width:80,width:window.innerWidth-180,height:window.innerHeight-280,stage_padding_top:20,top_section_height:200,bottom_section_height:60,history:[{polities:n,percents:i,events:[]}],years_to_run:1,running_sim:!1,running_sim_reference:null,step_interval:500,chart_view:!0},e.stage_ref=a.a.createRef(),e}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.table(this.state.polities);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(h.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({running_sim:!0});case 2:return e.next=4,this.continuousStep(this.state.years_to_run,this.state.step_interval/this.state.years_to_run);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this.setState({running_sim:!1})}},{key:"onSwitchView",value:function(){this.setState({chart_view:!this.state.chart_view})}},{key:"continuousStep",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t,n,i,a,r,o,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:0,!0,e.next=5,S(Object(c.a)(this.state.polities),t,n,!0);case 5:return i=e.sent,a=re(i),r=ae(i),o=this.state.history.concat({polities:i,percents:a,events:r}),e.next=11,this.setState({polities:i,history:o});case 11:return e.next=13,Object(w.delay)(this.state.step_interval);case 13:if(!this.state.running_sim){e.next=16;break}return e.next=16,this.continuousStep(t,n/t);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"step",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t,n,i,a,r,o,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:0,e.next=4,S(Object(c.a)(this.state.polities),t,n);case 4:return i=e.sent,a=re(i),r=ae(i),o=this.state.history.concat({polities:i,percents:a,events:r}),e.next=10,this.setState({polities:i,history:o});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=O(20),t=[{polities:e,percents:re(e),events:[]}];this.setState({polities:e,all_historical_polities:e,history:t})}},{key:"restart",value:function(){var e=this.state.all_historical_polities,t=[{polities:e,percents:re(e),events:[]}];this.setState({polities:e,history:t})}},{key:"addPolity",value:function(e){var t=this.state.polities.concat(e),n=re(t),i=this.state.history.concat({polities:t,percents:n,events:[]});this.setState({polities:t,history:i})}},{key:"addTurchinPolity",value:function(){var e=O(1)[0];this.addPolity(e)}},{key:"addPlayerPolity",value:function(){var e,t=(e="white",Object(_.a)({},oe(e),{isPlayer:!0}));this.addPolity(t)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(Ae,{theme:this.props.theme}),a.a.createElement("div",{className:"top-section",style:{height:this.state.top_section_height}},a.a.createElement("h1",{style:{color:_e[this.props.theme].element_body,margin:0}},"The HISTOMAP"),a.a.createElement("p",{style:{color:_e[this.props.theme].element_body}},"".concat((this.state.history.length-1)*this.state.years_to_run," year").concat(this.state.history.length>1?"s":""," of world history").toUpperCase()),a.a.createElement("p",{style:{color:_e[this.props.theme].element_body}},"Relative power of contemporary states, nations, and empires".toUpperCase()),a.a.createElement(ge,{theme:this.props.theme,running_sim:this.state.running_sim,onStart:this.start.bind(this),onPause:this.pause.bind(this),onStep:this.step.bind(this),onReset:this.reset.bind(this),onRestart:this.restart.bind(this),onSwitchTheme:this.props.onSwitchTheme,onSwitchView:this.onSwitchView.bind(this),onAddTurchinPolity:this.addTurchinPolity.bind(this),onAddPlayerPolity:this.addPlayerPolity.bind(this),chart_view:this.state.chart_view,stage_ref:this.stage_ref})),a.a.createElement("div",{className:"Stage",style:{paddingTop:this.state.stage_padding_top}},a.a.createElement(pe.Stage,{ref:this.stage_ref,width:this.state.width,height:this.state.height},a.a.createElement(pe.Layer,null,this.state.chart_view&&a.a.createElement(be,{theme:this.props.theme,polities:this.state.polities,all_historical_polities:this.state.polities,history:this.state.history,years_to_run:this.state.years_to_run,side_info_width:this.state.side_info_width,width:this.state.width-this.state.side_info_width,height:this.state.height-this.state.stage_padding_top,offset_x:this.state.chart_padding,offset_y:85}),!this.state.chart_view&&a.a.createElement(me,{polities:this.state.polities,width:this.state.width,height:this.state.height})))),a.a.createElement("div",{className:"bottom-section",style:{height:this.state.bottom_section_height}},a.a.createElement("span",{style:{color:_e[this.props.theme].element_body},className:"bottom-section-text"},"Copyright by David A. Vanderhaar"),a.a.createElement("span",{style:{color:_e[this.props.theme].element_body},className:"bottom-section-text"},"Made with React and Konva"),a.a.createElement("span",{style:{color:_e[this.props.theme].element_body},className:"bottom-section-text"},"Model based on Peter Turchin's Cycling in the Complexity of Early Societies")))}}]),t}(a.a.Component),Re=(n(156),function(e){return"light"===e?"dark":"light"}),Me=a.a.createRef();var Ie=function(){var e=Object(i.useState)("light"),t=Object(s.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",{ref:Me,className:"App",style:{backgroundColor:_e[n].background}},a.a.createElement(We,{onSwitchTheme:function(){r(Re(n))},theme:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,n){},86:function(e,t,n){e.exports=n(160)},90:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.bf60da45.chunk.js.map